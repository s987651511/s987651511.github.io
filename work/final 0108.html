<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="utf-8">

    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

    <!--
     Bootstrap CSS 
-->
    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0-beta.2/css/bootstrap.min.css" integrity="sha384-PsH8R72JQ3SOdhVi3uxftmaW6Vc51MKb0q5P2rRUpPvrszuE4W1povHYgTpBfshb" crossorigin="anonymous">
    <link href='./css/final.css' rel='stylesheet' type='text/css'>

    <!--scroll-->
    <script src="https://code.jquery.com/jquery-3.2.1.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.12.3/umd/popper.min.js" integrity="sha384-vFJXuSJphROIrBnz7yo7oB41mKfc8JzQZiCq4NCceLEaO4IHwicKwpJf9c9IpFgh" crossorigin="anonymous"></script>
    <script src="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0-beta.2/js/bootstrap.min.js" integrity="sha384-alpBpkh1PFOepccYVYDB4do5UnbKysX5WZXm3XxPqe5iKTfUKjNkCk9SaVuEZflJ" crossorigin="anonymous"></script>

    <!--    d3js-->
    <script type="text/javascript" src="http://gc.kis.v2.scr.kaspersky-labs.com/F441B92E-84EE-634E-ABA7-9E44E28FD644/main.js" charset="UTF-8"></script>
    <script src="http://d3js.org/d3.v3.min.js" language="JavaScript"></script>
    <script src="js/liquidFillGauge.js" language="JavaScript"></script>

    <style>
        .liquidFillGaugeText {
            font-family: Helvetica;
            font-weight: bold;
        }

    </style>

</head>
<style>
    #div1,
    #div2,
    #div3,
    #div4,
    #div5,
    #div6{
        background-attachment: fixed;

        background-repeat: no-repeat;
        background-size: cover;
    }

</style>

<body>


    <div id=div1>
        <font size="14" style="font-weight:450 ;position:absolute;right: 10%; top:50%">如何面對老後</font>

    </div>
    <div id=div2 style="position:relative;">

        <h1> <br> </h1>
        <h3 style="position:relative;left: 25%; color: black">隨著壽命持續增加，老年人口的照顧與安養成了台灣社會</h3>
        <h3 style="position:relative;left: 25%; color: black">在2017年，台灣的老年人口比例已經正超過幼年人口比例</h3>
        <h3 style="position:relative;left: 25%; color: black">據國發會預估，台灣的老年人口將在2048年達到總人口30%</h3>
        <h1> <br> </h1>

        <!--        d3.js liquid-->
        <svg id="fillgauge1" style="position: relative;left:auto" width="97%" height="250" onclick="gauge1.update(30);"></svg>

    </div>

    <div id="div3" class="container-fluid innershadow1" style="height:150vh;position:relative;">

        <h1 style="position:absolute;right: 10%; top:15%">然而我們做好準備了嗎？</h1>

        <img class="scrollable" data-left=0 data-left2=100 data-top=10 data-top2=70 src="assets/silhouette-3060100_640.png" style="position:absolute;width:15%;top:12%;left:0%;">

        <img class="slideanimate2" data-width=20 src="assets/if_interface-39_809306.png" style="position:absolute;width:20%;top:50%;right:10%;filter:grayscale(.3) blur(0px);">

        <h1 style="position:absolute;left: 30%; top:80%">老後去哪裡？</h1>


    </div>

    <div id="div4" class="container-fluid innershadow1" style="background-color:white;position:relative;">
        <div class="row" style="height: 200px"> </div>

        <div class="row" style="height: 230px;">
            <div class="col-sm-3">
                <img class="slideanimate" src="assets/1-1.png" alt="Lights" style="width:90%">
            </div>
            <div class="col-sm-3">
                <img class="slideanimate" src="assets/2-1.png" alt="Lights" style="width:90%">
            </div>

            <div class="col-sm-3">
                <img class="slideanimate" src="assets/3-1.png" alt="Lights" style="width:90%">
            </div>
            <div class="col-sm-3"><br></div>

        </div>

        <div class="row">
            <div class="col-sm-3">
                <img  src="assets/1-2.png" alt="Lights" style=" position: relative; width:70%; top;10%;left:15%;">
            </div>
            <div class="col-sm-3">
                <img  src="assets/2-2.png" alt="Lights" style=" position: relative; width:70%; top;10%;left:10%;">
            </div>

            <div class="col-sm-3">
                <img  src="assets/3-2.png" alt="Lights" style=" position: relative; width:70%; top;10%;left:10%;">
            </div>
            <div class="col-sm-3">
                <img src="assets/if_home_430102.png" alt="Lights" style="width:90%">
            </div>
        </div>

        <div class="row" style="height: 30px;"></div>

        <div class="row">
            <div class="col-sm-3">
                <img class="slideanimate" src="assets/1-3.png" alt="Lights" style=" position: relative; width:90%;left:3%; ">
            </div>
            <div class="col-sm-3">
                <img class="slideanimate" src="assets/2-3.png" alt="Lights" style=" position: relative; width:90%;left:3%; ">
            </div>

            <div class="col-sm-3">
                <img class="slideanimate" src="assets/3-3.png" alt="Lights" style=" position: relative; width:90%;left:5%; ">
            </div>
            <div class="col-sm-3">
                <img src="assets/longcare%20png.png" style="width:100%;">
            </div>
        </div>

    </div>

    <div id=div5 style="height:180vh;">
        <h1><br></h1>
        <div class="container">
            <h1>長照大問題</h1>
            <h3>仰賴外籍勞工</h3>
            <h3>一面倒向非營利體系公共資源</h3>
            <h3>國人概念不足：健保歸健保，長照歸長照</h3>
            <h3>薪資過低導致人才流失</h3>
        </div>
        <h1><br></h1>
        <h1><br></h1>
        <div id="rate" class="container">
            <h2>照護員負擔人數</h2>
        </div>

    </div>
    
    <div id=div6>
        <section id="box">

            <div id="s2">
                <h2>多注意健康狀況</h2>
                <h2>及早選擇準備</h2>
                <h2>享受幸福老後</h2>
                
            </div>
            <img src="assets/facial-hair-1295672_640.png">
            <br><br>
            <br><br>
            <br><br>
            <br><br>
            <br><br>
            <p>◎製作：胡文茜</p>
            <p>◎數據來源：樂長照、衛生福利部</p>
            
            
        </section>
    </div>

    <!--d3.js-->
    <script language="JavaScript">
        var gauge1 = loadLiquidFillGauge("fillgauge1", 12.8);
        var config1 = liquidFillGaugeDefaultSettings();
        config1.circleColor = "#FF7777";
        config1.textColor = "#FF4444";
        config1.waveTextColor = "#FFAAAA";
        config1.waveColor = "#FFDDDD";
        config1.circleThickness = 0.2;
        config1.textVertPosition = 0.2;
        config1.waveAnimateTime = 1000;

    </script>

    <!--    scroll-->
    <script>
        $(document).ready(function() {
            var winh = $(window).height();
            $(window).scroll(function() {
                var scrolled = $(window).scrollTop();
                $(".scrollable").each(function() {
                    var parent_pos = $(this).parent().offset().top;
                    //                    碰到外div的上緣開始動
                    var next_pos = $(this).parent().next().offset().top;
                    //                    碰到下面div的上緣停止
                    var parent_height = $(this).parent().height();
                    var parent_scrolled = scrolled - $(this).parent().offset().top;
                    if (parent_scrolled > 0 && scrolled < next_pos - winh) {

                        if ($(this).attr("data-left")) {
                            $(this).css('left', (($(this).data('left2') - $(this).data('left')) * parent_scrolled / winh + $(this).data('left')) + '%');
                        }
                        if ($(this).attr("data-top")) {
                            $(this).css('top', (($(this).data('top2') - $(this).data('top')) * parent_scrolled / winh + $(this).data('top')) + '%');
                        }
                        if ($(this).attr("data-width")) {
                            $(this).css('width', (($(this).data('width2') - $(this).data('width')) * parent_scrolled / winh + $(this).data('width')) + '%');
                        }
                    }
                });


            });
        });

    </script>


    <!--    scroll_animate-->
    <script>
        $(function() {
            $(window).scroll(function() {
                $(".slideanimate").each(function() {
                    var winTop = $(window).scrollTop();
                    var winheight = $(window).height();
                    var pos = $(this).offset().top;
                    if (pos < winTop + winheight * 0.8) {
                        $(this).addClass("animated fadeInUp slide");
                    }
                    if (winTop == 0) {
                        $(this).removeClass("animated fadeInUp slide");
                    }
                });
            });
        });

    </script>


    <script>
        $(function() {
            $(window).scroll(function() {
                $(".slideanimate2").each(function() {
                    var winTop = $(window).scrollTop();
                    var winheight = $(window).height();
                    var pos = $(this).offset().top;
                    if (pos < winTop + winheight * 0.8) {
                        $(this).addClass("animated slideInUp slide");
                    }
                    if (winTop == 0) {
                        $(this).removeClass("animated slideInUp slide");
                    }
                });
            });
        });

    </script>




    <!--        d3.js bar-->


    <script>
        var rate = [
            ['新北市', 4.49],
            ['桃園市', 4.19],
            ['新竹縣', 7.27],
            ['苗栗縣', 9.27],
            ['台中市', 6.62],
            ['台南市', 5.86],
            ['高雄市', 149],
            ['台東縣', 41],
            ['雲林縣', 14.6],
            ['嘉義縣', 14.9]

        ];




        //bar ---------------------------------------------------------------
        var chart = d3.select("#rate");
        var bar = chart.selectAll("div");
        var barUpdate = bar.data(rate);
        var barEnter = barUpdate.enter().append("div");
        barUpdate.exit().remove();
        barEnter

            .style("width", function(d) {
                return (d[1] * 20) + "px";
            });
        barEnter.text(function(d) {
            return d[0] + " : " + d[1];
        });
        barEnter
            .style("height", "45px")
            .style("color", "white")
            .style("background", "#81C7D4")
            .style("font-size", "22 px")
            .style("margin", "10px");

    </script>


</body>
</html
